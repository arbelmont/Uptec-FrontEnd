<form novalidate [formGroup]="frm" (ngSubmit)="onSubmit()" class="form" scrollFirstInvalid>

  <div class="modal-header">
    <h4 class="modal-title"><i class="ft-navigation"></i> Endereço</h4>
    <!-- <h4 class="modal-title">Hi there!</h4> -->
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">

    <div class="form-body">
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="cep" class="mb-0">Cep</label>
            <input type="text" id="cep" class="form-control form-control-sm" ngbAutofocus formControlName="cep" (blur)="buscaCep()">
            <span class="text-danger font-small-2" *ngIf="displayMessage.cep">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.cep"></p>
            </span>
          </div>
        </div>
        <div class="col-md-9">
          <div class="form-group">
            <label for="logradouro" class="mb-0">Logradouro</label>
            <input type="text" id="logradouro" class="form-control form-control-sm" formControlName="logradouro">
            <span class="text-danger font-small-2" *ngIf="displayMessage.logradouro">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.logradouro"></p>
            </span>
          </div>
        </div>


      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="numero" class="mb-0">Número</label>
            <input type="text" id="numero" class="form-control form-control-sm" formControlName="numero">
            <span class="text-danger font-small-2" *ngIf="displayMessage.numero">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.numero"></p>
            </span>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="complemento" class="mb-0">Complemento</label>
            <input type="text" id="complemento" class="form-control form-control-sm" formControlName="complemento">
            <span class="text-danger font-small-2" *ngIf="displayMessage.complemento">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.complemento"></p>
            </span>
          </div>
        </div>
        <div class="col-md-5">
          <div class="form-group">
            <label for="bairro" class="mb-0">Bairro</label>
            <input type="text" id="bairro" class="form-control form-control-sm" formControlName="bairro">
            <span class="text-danger font-small-2" *ngIf="displayMessage.bairro">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.bairro"></p>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <label for="estado" class="mb-0">Estado</label>
          <select type="text" class="form-control  form-control-sm" id="estado" formControlName="estado">
            <option value="">Selecione...</option>
            <option *ngFor="let estado of estados$ | async" [value]="estado.sigla">{{ estado.nomeEstado }}</option>
          </select>
          <span class="text-danger font-small-2" *ngIf="displayMessage.estado">
            <p class="text-danger font-small-2" [innerHTML]="displayMessage.estado"></p>
          </span>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="cidade" class="mb-0">Cidade</label>
            <select type="text" class="form-control  form-control-sm" id="cidade" formControlName="cidade">
              <option value="">Selecione...</option>
              <option *ngFor="let cidade of cidades" [value]="cidade.nome">{{ cidade.nome }}</option>
            </select>
            <span class="text-danger font-small-2" *ngIf="displayMessage.cidade">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.cidade"></p>
            </span>
          </div>
        </div>
        <div class="col-md-5">
          <div class="form-group">
            <label for="cidade" class="mb-0">Tipo Endereço</label>
            <select type="text" class="form-control  form-control-sm" id="tipoEndereco" formControlName="tipoEndereco">
              <option *ngFor="let tipo of enderecoTipos$ | async" [value]="tipo.value">{{ tipo.name }}</option>
            </select>
            <span class="text-danger font-small-2" *ngIf="displayMessage.tipoEndereco">
              <p class="text-danger font-small-2" [innerHTML]="displayMessage.tipoEndereco"></p>
            </span>
          </div>
        </div>
      </div>
    </div>
  
  </div>
  <div class="modal-footer">
    <a href="javascript:void(0)" (click)="close()" class="btn btn-raised btn-raised btn-warning mr-1">
      <i class="ft-chevron-left"></i> Voltar
    </a>
    <button type="submit" class="btn btn-raised btn-raised btn-primary" [disabled]="!frm.dirty">
      <i class="fa fa-check-square-o"></i> Salvar
    </button>
  </div>
</form>